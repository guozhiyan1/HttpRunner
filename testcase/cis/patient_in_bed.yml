-   config:
        base_url: ${ENV(host)}
        name: 床位维护冒烟测试
        variables:
            k1: ${ENV(out_k1)}
            k2: ${ENV(in_k2)}
            orgId: ${ENV(orgId)}
            areaId: ${ENV(in_k3)}
            locationId: 99897828609
            master_patient_index: ${gen_random_string(32)}
            bed_number: ${get_number(6)}


-   test:
        api: api/token.yml
        name: 登录获取token

-   test:
        api: api/setting.yml
        name: 登录设置

-   test:
        api: api/user_info.yml
        name: 切换登录院区部门

#-   test:
#        name: getUserInfo
#        setup_hooks:
#          - ${gmc_run_mysql($master_patient_index, patient_info, inhospital_register, add_bed)}
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                Content-Type: application/json; charset=UTF-8
#                k1: $k1
#                k2: $k2
#            json: {}
#            method: POST
#            url: /app-portal/user/info
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#-   test:
#        name: 获取机构系统参数(查不到返回'')
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                Content-Type: application/json; charset=UTF-8
#                k1: $k1
#                k2: $k2
#            json:
#                parameterCode: $parameterCode
#            method: POST
#            url: /app-sys-manage/param/getOrgSystemParam
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#        -   eq:
#            - content.body
#            - '2'
#-   test:
#        name: 获取用户菜单
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                Content-Type: application/json; charset=UTF-8
#                k1: $k1
#                k2: $k2
#            json: {}
#            method: POST
#            url: /app-portal/permission/query/user/menu
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
-   test:
        name: 通用查询系统参数
        setup_hooks:
        -   ${gmc_run_mysql($master_patient_index, $bed_number, patient_info, inhospital_register, add_bed)}
        request:
            headers:
                Authorization: ${get_token($token)}
                Content-Type: application/json; charset=UTF-8
                k1: $k1
                k2: $k2
            json:
                deptSystemParamList:
                -    900076
            method: POST
            url: /app-station-manage/orderCommon/listSystemParam
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 获取护士站医嘱打印二级路由
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/common/print/route
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        -   eq:
            - content.body
            - t1
-   test:
        name: 获取当前登陆的location类型，0-病区 1-留观诊区 2-急诊留观部门 3-住院部门 9-其他
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/location/logintype
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        -   eq:
            - content.body
            - 0
-   test:
        name: 查询患者列表
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/bedPatient/findAll
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success



-   test:
        name: 查询某个病区的待安床病人列表
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/patient/wait/list
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        extract:
          - patientId: content.body
-   test:
        name: 查询当前病区对应的科室列表
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $k2
            method: GET
            url: /app-nurse-station/location/relation/dept
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询是否显示新生儿
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/bedPatient/baby/show
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        -   eq:
            - content.body
            - true
-   test:
        name: 查询本location下护士组下拉框
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/nurse/group/card/list
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询床位一览表中入院服务中心审核通过的个数
        request:
            headers:
                Authorization: ${get_token($token)}
                Content-Type: application/json; charset=UTF-8
                k1: $k1
                k2: $areaId
            json:
                isAuto: false
            method: POST
            url: /app-nurse-station/bed/query/admissionservice/pass/number
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        -   eq:
            - content.body
            - 0
-   test:
        name: 安床换床是否需要valid接口校验 true需要，false不需要
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/common/bed/remind/param
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        -   eq:
            - content.body
            - '2'
-   test:
        name: 首页显示模板列表查询
        request:
            headers:
                Authorization: ${get_token($token)}
                Content-Type: application/json; charset=UTF-8
                k1: $k1
                k2: $areaId
            json: {}
            method: POST
            url: /app-portal/stationmanage/stationConfig/list/getHomepage
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询打印类型list
        request:
            headers:
                Authorization: ${get_token($token)}
                Content-Type: application/json; charset=UTF-8
                k1: $k1
                k2: $areaId
            json: {}
            method: POST
            url: /app-sys-manage/print/template/queryPrintTypeList
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询已配置的图标
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/manage/card/listShowCard
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success

-   test:
        name: 查询某个病区的待安床病人列表
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/patient/wait/list
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询床位信息
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $areaId
            method: GET
            url: /app-nurse-station/bed/detail/$bed_number
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 获得病区内的护士下拉列表
        request:
            headers:
                Authorization: ${get_token($token)}
                Content-Type: application/json; charset=UTF-8
                k1: $k1
                k2: $k2
            json:
                queryParam: ''
            method: POST
            url: /app-nurse-station/staff/nurse/list
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询某个地点下的医师列表
        request:
            headers:
                Authorization: ${get_token($token)}
                Content-Type: application/json; charset=UTF-8
                k1: $k1
                k2: $k2
            json:
                locationId: $locationId
                queryKey: ''
            method: POST
            url: /app-nurse-station/staff/listDoctor
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
-   test:
        name: 查询患者是否有新生儿
        request:
            headers:
                Authorization: ${get_token($token)}
                k1: $k1
                k2: $k2
            method: GET
            url: /app-nurse-station/patient/${get_list_dict_value($patientId, masterPatientIndex, $master_patient_index, inHospitalPatientId)}/hasbabys
        validate:
        -   eq:
            - content.code
            - 2000
        -   eq:
            - content.message
            - success
        -   eq:
            - content.body
            - false
#-   test:
#        name: 校验床位是否是责任护士管辖
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                Content-Type: application/json; charset=UTF-8
#                k1: $k1
#                k2: $k2
#            json:
#                bedId: $bedId
#                nurseId: $nurseId
#            method: POST
#            url: /app-nurse-station/patient/check/nurse
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#        -   eq:
#            - content.body
#            - false
#-   test:
#        name: 病人安床
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                Content-Type: application/json; charset=UTF-8
#                k1: $k1
#                k2: $k2
#            json:
#                babyBackToMom: false
#                bedId: $bedId
#                chiefDoctorId: $chiefDoctorId
#                inDeptId: $inDeptId
#                inHospitalDate: $inHospitalDate
#                inHospitalPatientId: $inHospitalPatientId
#                mainNurseId: $mainNurseId
#            method: POST
#            url: /app-nurse-station/patient/arrange/bed
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#        -   eq:
#            - content.body
#            - true
#-   test:
#        name: listBedPatient
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                k1: $k1
#                k2: $k2
#            method: GET
#            url: /app-nurse-station/bedPatient/findAll
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#        extract:
#          -
#-   test:
#        name: 查询某个病区的待安床病人列表
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                k1: $k1
#                k2: $k2
#            method: GET
#            url: /app-nurse-station/patient/wait/list
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#-   test:
#        name: 查询当前病区对应的科室列表
#        request:
#            headers:
#                Authorization: ${get_token($token)}
#                k1: $k1
#                k2: $k2
#            method: GET
#            url: /app-nurse-station/location/relation/dept
#        validate:
#        -   eq:
#            - content.code
#            - 2000
#        -   eq:
#            - content.message
#            - success
#
